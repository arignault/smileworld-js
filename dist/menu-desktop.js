console.log('ðŸš€ menu-desktop.js v13.0.0 chargÃ© - StratÃ©gie "Contrat par Classe"');class n{constructor(){this.activePanel=null,this.isAnimating=!1,this.triggerSelector='[data-attribute^="nav-link-desktop-"]',this.panelClassMap={parc:".parc_menu_desktop",activites:".activites_menu_desktop",offres:".offres_menu_desktop"},this._addGlobalListener(),console.log('âœ… Gestionnaire de clic "Contrat par Classe" est actif.')}_addGlobalListener(){document.body.addEventListener("click",t=>{const e=t.target.closest(this.triggerSelector);if(e){t.preventDefault(),t.stopPropagation();const i=e.getAttribute("data-attribute");if(!i)return;const a=i.replace("nav-link-desktop-",""),s=this.panelClassMap[a];if(!s){console.error(`Aucune classe de panneau correspondante trouvÃ©e pour la clÃ©: ${a}`);return}const o=document.querySelector(s);if(!o){console.error(`Panneau cible ${s} non trouvÃ©. Avez-vous ajoutÃ© la classe au panneau dans Webflow ?`);return}this._toggleDropdown(o,a);return}if(this.activePanel&&!this.activePanel.contains(t.target)){const i=this.activePanel.dataset.panelKey;if(i){const a=document.querySelector(`[data-attribute="nav-link-desktop-${i}"]`);(!a||a&&!a.contains(t.target))&&this._closeDropdown(this.activePanel)}else this._closeDropdown(this.activePanel)}})}_toggleDropdown(t,e){this.isAnimating||(this.activePanel===t?this._closeDropdown(t):(this.activePanel&&this._closeDropdown(this.activePanel,!1),this._openDropdown(t,e)))}_openDropdown(t,e){this.isAnimating=!0,this.activePanel=t,t.dataset.panelKey=e,window.gsap.set(t,{display:"block"}),window.gsap.fromTo(t,{opacity:0,y:-10},{opacity:1,y:0,duration:.3,ease:"power2.out",onComplete:()=>{this.isAnimating=!1}})}_closeDropdown(t,e=!0){t&&(this.isAnimating=!0,t.dataset.panelKey&&delete t.dataset.panelKey,window.gsap.to(t,{opacity:0,y:-10,duration:.2,ease:"power1.in",onComplete:()=>{window.gsap.set(t,{display:"none"}),this.isAnimating=!1,e&&(this.activePanel=null)}}))}}new n;
