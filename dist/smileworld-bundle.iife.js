(function(c){"use strict";console.log("ðŸš€ loading-screen.js v1.2.0 chargÃ©");const p={fadeOutDuration:.4,ease:"power2.out"};let d=!1,u=!1;function S(){if(console.log("ðŸŽ¬ initLoadingScreen - DÃ©but de l'initialisation"),d)return console.log("â„¹ï¸ Ã‰cran de chargement dÃ©jÃ  initialisÃ©"),Promise.resolve();const n=document.querySelector(".loadingscreen"),e=document.querySelector(".loading_logo_wrap");return console.log("ðŸ” Ã‰lÃ©ments trouvÃ©s:",{loadingScreen:!!n,logoWrap:!!e}),!n||!e?(console.warn("âš ï¸ Ã‰lÃ©ments manquants:",{loadingScreen:n?"OK":"Non trouvÃ©",logoWrap:e?"OK":"Non trouvÃ©"}),d=!1,Promise.resolve(null)):(console.log("ðŸŽ¨ Configuration des styles initiaux"),window.gsap.set(n,{opacity:1,display:"flex",backgroundColor:"white"}),window.gsap.set(e,{opacity:0,scale:.9}),window.gsap.to(e,{opacity:1,scale:1,duration:.5,delay:.1,ease:p.ease}),d=!0,console.log("âœ… Ã‰cran de chargement initialisÃ© avec succÃ¨s"),Promise.resolve(n))}function h(){if(console.log("ðŸŽ¬ hideLoadingScreen - DÃ©but du masquage"),!d){console.warn("âš ï¸ Ã‰cran de chargement non initialisÃ©");return}if(u){console.log("â„¹ï¸ Masquage dÃ©jÃ  en cours");return}u=!0;const n=document.querySelector(".loadingscreen"),e=document.querySelector(".loading_logo_wrap");if(console.log("ðŸ” Ã‰lÃ©ments trouvÃ©s pour le masquage:",{loadingScreen:!!n,logoWrap:!!e}),!n||!e){console.warn("âš ï¸ Ã‰lÃ©ments manquants pour le masquage"),u=!1;return}console.log("ðŸŽ¬ DÃ©marrage de l'animation de masquage"),window.gsap.timeline({onComplete:()=>{console.log("âœ… Animation de masquage terminÃ©e"),window.gsap.set(n,{display:"none"}),u=!1}}).to(n,{opacity:0,duration:p.fadeOutDuration,ease:p.ease})}console.log("ðŸš€ text-animation.js v2.1.0 chargÃ©");function f(){const n=document.querySelector(".span_mover");if(n)try{let i=function(){if(t)return;t=!0;const s=gsap.timeline({onComplete:()=>{t=!1,gsap.to(n,{y:e.positions.start,duration:e.duration,ease:e.ease,onComplete:()=>{setTimeout(i,e.cycleDelay*1e3)}})}}),a=[e.positions.start,e.positions.middle,e.positions.end];for(let o=0;o<a.length;o++)s.to(n,{y:a[o],duration:e.duration,ease:e.ease}),o<a.length-1&&s.to({},{duration:e.pauseDuration});s.play()};const e={duration:.6,ease:"back.out(1.7)",pauseDuration:1.5,cycleDelay:.5,positions:{start:"0%",middle:"-34%",end:"-68%"}};let t=!1;i(),window.addEventListener("beforeunload",()=>{gsap.killTweensOf(n)})}catch(e){console.error("Erreur dans l'animation de texte:",e)}}function g(){setTimeout(typeof gsap<"u"?f:g,100)}g();let m=!1;async function y(n,e){if(!n||!n.classList.contains("is-open"))return;const t=n.querySelector(e.contentSelector),i=n.querySelector(e.arrowSelector);n.classList.remove("is-open");const s=c.gsap.timeline();s.to(t,{height:0,opacity:0,duration:.4,ease:"back.in(1.7)"},0),i&&s.to(i,{rotation:0,duration:.25,ease:"power2.inOut"},0),await s,t.style.display="none"}async function k(n,e){if(!n||n.classList.contains("is-open"))return;n.classList.add("is-open");const t=n.querySelector(e.contentSelector),i=n.querySelector(e.arrowSelector);c.gsap.set(t,{display:"block",height:"auto",opacity:0});const s=t.scrollHeight,a=c.gsap.timeline();a.from(t,{height:0,opacity:0},0),a.to(t,{height:s,opacity:1,duration:.6,ease:"elastic.out(1.2, 0.5)"},0),i&&a.to(i,{rotation:90,duration:.25,ease:"back.out(1.7)"},"<"),await a}async function b(n,e){if(!m){m=!0;try{if(n.classList.contains("is-open"))await y(n,e);else{const i=document.querySelectorAll(`${e.itemSelector}.is-open`);await Promise.all(Array.from(i).map(a=>y(a,e))),await k(n,e);const s=new CustomEvent("accordion:opened",{bubbles:!0,detail:{item:n,config:e}});n.dispatchEvent(s)}}catch(t){console.error("Erreur lors du toggle de l'accordÃ©on:",t)}finally{m=!1}}}function w(n){const e=document.querySelectorAll(n.itemSelector);e.length!==0&&e.forEach(t=>{const i=t.querySelector(n.triggerSelector),s=t.querySelector(n.contentSelector);!i||!s||(t.classList.contains("is-open")||c.gsap.set(s,{display:"none",height:0}),i.addEventListener("click",a=>{a.preventDefault(),b(t,n)}))})}console.log("ðŸš€ faq-toggle.js v1.1.0 chargÃ©");async function _(){w({itemSelector:".faq_item.effect-cartoon-shadow",triggerSelector:".faq_wrapper",contentSelector:".faq_respond",arrowSelector:".svg-holder.medium"})}console.log(`ðŸš€ menu-desktop.js v3.0.0 chargÃ© - StratÃ©gie "Chef d'Orchestre"`);class P{constructor(){this.triggers={parcs:document.querySelector('[data-attribute="nav-link-desktop-parcs"]'),activites:document.querySelector('[data-attribute="nav-link-desktop-activites"]'),offres:document.querySelector('[data-attribute="nav-link-desktop-offres"]')},this.menus={parcs:document.querySelector(".parc_menu_desktop"),activites:document.querySelector(".activites_menu_desktop"),offres:document.querySelector(".offres_menu_desktop")},this.background=this._createBackground(),this.activeMenu=null,this.isAnimating=!1,this._setupInitialStyles(),this._setupEventListeners(),console.log(`âœ… Menu Desktop "Chef d'Orchestre" initialisÃ©.`)}_createBackground(){const e=document.createElement("div");return e.className="menu-desktop-background",document.body.appendChild(e),e}_setupInitialStyles(){Object.values(this.menus).forEach(e=>{e&&window.gsap.set(e,{display:"none",opacity:0})}),window.gsap.set(this.background,{display:"none",opacity:0,backgroundColor:"rgba(0,0,0,0.5)",position:"fixed",top:0,left:0,width:"100%",height:"100vh",zIndex:998})}_setupEventListeners(){document.body.addEventListener("click",e=>{if(this.isAnimating)return;const t=Object.keys(this.triggers).find(i=>this.triggers[i]&&this.triggers[i].contains(e.target));if(t){e.preventDefault(),e.stopPropagation(),this._toggleMenu(t);return}if(this.activeMenu){const i=this.menus[this.activeMenu],s=this.triggers[this.activeMenu],a=i&&i.contains(e.target),o=s&&s.contains(e.target);!a&&!o&&this._closeActiveMenu()}})}_toggleMenu(e){if(this.activeMenu===e)this._closeActiveMenu();else{if(this.activeMenu){const t=this.menus[this.activeMenu];t&&window.gsap.set(t,{display:"none",opacity:0})}this._openMenu(e)}}_openMenu(e){const t=this.menus[e];if(!t)return;this.isAnimating=!0,this.activeMenu=e,window.gsap.timeline({onComplete:()=>{this.isAnimating=!1}}).set(this.background,{display:"block"}).set(t,{display:"block"}).to(this.background,{opacity:1,duration:.3}).to(t,{opacity:1,y:0,duration:.3,ease:"power2.out"},"-=0.2")}_closeActiveMenu(){if(!this.activeMenu)return;const e=this.menus[this.activeMenu];if(!e)return;this.isAnimating=!0,this.activeMenu,this.activeMenu=null,window.gsap.timeline({onComplete:()=>{this.isAnimating=!1,window.gsap.set(this.background,{display:"none"}),window.gsap.set(e,{display:"none"})}}).to(e,{opacity:0,y:-10,duration:.2,ease:"power1.in"}).to(this.background,{opacity:0,duration:.3},"-=0.1")}}function A(){document.querySelector('[data-attribute="nav-link-desktop-parcs"]')?new P:console.warn("[MenuDesktop] Aucun trigger de menu desktop trouvÃ©. Initialisation annulÃ©e.")}console.log(`ðŸš€ menu-mobile.js v3.0.0 chargÃ© - StratÃ©gie "Chef d'Orchestre"`);class L{constructor(){if(this.elements={mainPanel:document.querySelector(".menu-mobile"),openButton:document.querySelector("#hamburger-menu"),closeButton:document.querySelector(".button-close_menu-mobile"),navLinks:{parcs:document.querySelector("#parcs-nav_button_mobile"),activites:document.querySelector("#activites-nav_button_mobile"),offres:document.querySelector("#formules-nav_button_mobile")},panels:{main:document.querySelector("#main-menu-mobile"),parcs:document.querySelector("#parc-menu-mobile"),activites:document.querySelector("#activites-menu-mobile"),offres:document.querySelector("#offres-menu-mobile")},backButtons:document.querySelectorAll(".button-back-menu")},this.activePanel=this.elements.panels.main,this.isAnimating=!1,!this.elements.mainPanel){console.warn("[MenuMobile] Panneau principal .menu-mobile introuvable. Initialisation annulÃ©e.");return}this._setupInitialStyles(),this._setupEventListeners(),console.log(`âœ… Menu Mobile "Chef d'Orchestre" initialisÃ©.`)}_setupInitialStyles(){window.gsap.set(this.elements.mainPanel,{x:"100%",display:"none"}),Object.values(this.elements.panels).forEach((e,t)=>{if(e){const i=e===this.elements.panels.main;window.gsap.set(e,{display:i?"flex":"none",opacity:i?1:0,x:"0%"})}})}_setupEventListeners(){document.body.addEventListener("click",e=>{if(this.isAnimating)return;if(this.elements.openButton&&this.elements.openButton.contains(e.target)){e.preventDefault(),this._openMainMenu();return}if(this.elements.closeButton&&this.elements.closeButton.contains(e.target)){e.preventDefault(),this._closeMainMenu();return}const t=Object.keys(this.elements.navLinks).find(s=>this.elements.navLinks[s]&&this.elements.navLinks[s].contains(e.target));if(t){e.preventDefault();const s=this.elements.panels[t];s&&this._navigateToPanel(s);return}if(Array.from(this.elements.backButtons).find(s=>s.contains(e.target))){e.preventDefault(),this._navigateToPanel(this.elements.panels.main,!0);return}})}_openMainMenu(){this.isAnimating=!0,window.gsap.set(this.elements.mainPanel,{display:"block"}),window.gsap.to(this.elements.mainPanel,{x:"0%",duration:.5,ease:"power3.out",onComplete:()=>{this.isAnimating=!1}}),document.body.style.overflow="hidden"}_closeMainMenu(){this.isAnimating=!0,this._resetToMainPanel(),window.gsap.to(this.elements.mainPanel,{x:"100%",duration:.4,ease:"power3.in",onComplete:()=>{window.gsap.set(this.elements.mainPanel,{display:"none"}),this.isAnimating=!1}}),document.body.style.overflow=""}_navigateToPanel(e,t=!1){if(!this.activePanel||!e||this.activePanel===e)return;this.isAnimating=!0;const i=this.activePanel,s=t?100:-100;window.gsap.set(e,{display:"flex",x:`${-s}%`,opacity:1}),window.gsap.timeline({onComplete:()=>{window.gsap.set(i,{display:"none"}),this.activePanel=e,this.isAnimating=!1}}).to(i,{x:`${s}%`,duration:.4,ease:"power2.inOut"}).to(e,{x:"0%",duration:.4,ease:"power2.inOut"},"-=0.4")}_resetToMainPanel(){Object.values(this.elements.panels).forEach(e=>{e&&(e===this.elements.panels.main?window.gsap.set(e,{display:"flex",x:"0%"}):window.gsap.set(e,{display:"none"}))}),this.activePanel=this.elements.panels.main}}function I(){document.querySelector(".menu-mobile")?new L:console.warn("[MenuMobile] Ã‰lÃ©ment .menu-mobile non trouvÃ©. Initialisation annulÃ©e.")}console.log("ðŸš€ main_gsap.js v3.0.1 chargÃ©");function q(){console.log("âœ… GSAP est prÃªt. Initialisation des modules...");try{f(),_(),A(),I(),document.querySelector('[data-page="reservation"]')&&(console.log("-> Page RÃ©servation dÃ©tectÃ©e. Chargement du module..."),Promise.resolve().then(()=>x).then(n=>{n.initReservation(),console.log("âœ… Module RÃ©servation chargÃ© et initialisÃ©.")}).catch(n=>console.error("Ã‰chec du chargement du module de rÃ©servation:",n))),console.log("âœ¨ Tous les modules principaux ont Ã©tÃ© initialisÃ©s."),h()}catch(n){console.error("âŒ Erreur lors de l'initialisation des modules. ForÃ§age du masquage du loader.",n),h()}}function T(){S();let n=0;const e=100,i=setInterval(()=>{window.gsap?(clearInterval(i),q()):(n++,n>e&&(clearInterval(i),console.error("GSAP n'a pas pu Ãªtre chargÃ© aprÃ¨s 10 secondes. Annulation de l'initialisation des modules."),h()))},100)}window.Webflow=window.Webflow||[],window.Webflow.push(function(){console.log("ðŸš€ Webflow est prÃªt, lancement de l'attente de GSAP."),T()});class M{constructor(){this.config={defaultVideoUrl:"https://player.vimeo.com/progressive_redirect/playback/1088767237/rendition/1080p/file.mp4?loc=external&signature=1d46b415bde9b315b01d645374b5f7319940ecff5995ac8ac213f847577f6536",ids:{initialContainer:"container-initial",filteredContainer:"container-filtre",hiddenMap:"hidden-map",initialActivitiesPane:"tab-pane-initial-activites",initialParksPane:"tab-pane-initial-parcs",filteredActivitiesPane:"tab-pane-filtre-activites",filteredParksPane:"tab-pane-filtre-parcs",initialActivitiesTabLink:"tab-link-initial-activites",initialParksTabLink:"tab-link-initial-parcs",filteredActivitiesTabLink:"tab-link-filtre-activites",filteredParksTabLink:"tab-link-filtre-parcs",selectionWrapper:"selection-wrapper",label:"selection-label",reserveBtn:"reserve-btn",iframeWrap:"iframe-wrapper"}},this.state={primarySelectionType:null,selectedInitialSlugs:new Set,selectedInitialParkId:null,finalSelectedParkId:null,finalSelectedSlugs:new Set},this.dom={},this.mapItems=[],this.init()}init(){this._setupDomElements()&&(this._injectStyles(),this._injectVideoPlayer(),this._setupEventListeners(),this._applyUrlParameters(),this._setInitialUiState())}_setupDomElements(){for(const e in this.config.ids)if(this.dom[e]=document.getElementById(this.config.ids[e]),!this.dom[e])return console.error(`[SW-RSV] Essential element #${this.config.ids[e]} is missing.`),!1;return this.dom.videoBackgroundDiv=document.querySelector('[data-attribute="video_background"]'),this.dom.resetButton=document.querySelector('[data-attribute="reset_form"]'),this.mapItems=Array.from(this.dom.hiddenMap.querySelectorAll(".map-item")),!0}_setInitialUiState(){this.dom.filteredContainer.style.display="none",this.dom.reserveBtn.classList.add("disabled"),this.dom.iframeWrap.style.display="none",this.dom.selectionWrapper&&(window.gsap.set(this.dom.selectionWrapper,{opacity:.5,pointerEvents:"none"}),window.gsap.set(this.dom.label,{opacity:0}))}_setupEventListeners(){this.dom.initialActivitiesPane.addEventListener("click",this._handleSelection.bind(this,"initialActivity")),this.dom.initialParksPane.addEventListener("click",this._handleSelection.bind(this,"initialPark")),this.dom.filteredActivitiesPane.addEventListener("click",this._handleSelection.bind(this,"finalActivity")),this.dom.filteredParksPane.addEventListener("click",this._handleSelection.bind(this,"finalPark")),this.dom.reserveBtn.addEventListener("click",this._handleReserveClick.bind(this)),this.dom.resetButton&&this.dom.resetButton.addEventListener("click",this._fullReset.bind(this))}_handleSelection(e,t){const i=t.target.closest("[data-activity-slug], [data-centre-apex-id]");if(!i)return;const s=i.dataset.activitySlug,a=i.dataset.centreApexId;switch(e){case"initialActivity":this._handleInitialActivitySelection(s,i);break;case"initialPark":this._handleInitialParkSelection(a,i);break;case"finalActivity":this._handleFinalActivitySelection(s,i);break;case"finalPark":this._handleFinalParkSelection(a,i);break}}_handleInitialActivitySelection(e,t){if(this.state.primarySelectionType==="parks"&&(this._resetInitialSelections("parks"),this._resetInitialTabs()),this.state.primarySelectionType="activities",t.classList.toggle("isSelected"),t.classList.contains("isSelected")?this.state.selectedInitialSlugs.add(e):this.state.selectedInitialSlugs.delete(e),this._resetFinalSelections(),this.state.selectedInitialSlugs.size>0){this.dom.initialParksTabLink.style.display="none";const i=Array.from(this.state.selectedInitialSlugs).map(o=>new Set(this.mapItems.filter(l=>l.dataset.activitySlug===o).map(l=>l.dataset.centreApexId))),s=i.length>0?i[0]:new Set,a=i.reduce((o,l)=>new Set([...o].filter(r=>l.has(r))),s);this.dom.filteredParksPane.querySelectorAll("[data-centre-apex-id]").forEach(o=>{o.style.display=a.has(o.dataset.centreApexId)?"block":"none"}),this.dom.filteredContainer.style.display="flex",this._switchFilteredTab("parks")}else this._resetInitialTabs(),this.dom.filteredContainer.style.display="none",this._resetFilteredTabs(),this.state.primarySelectionType=null;this._updateStateAndButton()}_handleInitialParkSelection(e,t){this.state.primarySelectionType==="activities"&&(this._resetInitialSelections("activities"),this._resetInitialTabs()),this.state.primarySelectionType="parks";const i=this.state.selectedInitialParkId===e;if(this._resetFinalSelections(),i)this.state.selectedInitialParkId=null,t.classList.remove("isSelected"),this._resetInitialTabs(),this.dom.filteredContainer.style.display="none",this._resetFilteredTabs(),this._updateVideoSource(null);else{this.dom.initialParksPane.querySelectorAll("[data-centre-apex-id]").forEach(a=>a.classList.remove("isSelected")),this.state.selectedInitialParkId=e,t.classList.add("isSelected"),this._updateVideoSource(t),this.dom.initialActivitiesTabLink.style.display="none";const s=new Set(this.mapItems.filter(a=>a.dataset.centreApexId===e).map(a=>a.dataset.activitySlug));this.dom.filteredActivitiesPane.querySelectorAll("[data-activity-slug]").forEach(a=>{a.style.display=s.has(a.dataset.activitySlug)?"block":"none"}),this.dom.filteredContainer.style.display="flex",this._switchFilteredTab("activities")}this._updateStateAndButton()}_handleFinalParkSelection(e,t){this.state.primarySelectionType==="activities"&&(this.state.finalSelectedParkId===e?(this.state.finalSelectedParkId=null,t.classList.remove("isSelected"),this._updateVideoSource(null)):(this.dom.filteredParksPane.querySelectorAll("[data-centre-apex-id]").forEach(i=>i.classList.remove("isSelected")),this.state.finalSelectedParkId=e,t.classList.add("isSelected"),this._updateVideoSource(t)),this._updateStateAndButton())}_handleFinalActivitySelection(e,t){this.state.primarySelectionType==="parks"&&(t.classList.toggle("isSelected"),t.classList.contains("isSelected")?this.state.finalSelectedSlugs.add(e):this.state.finalSelectedSlugs.delete(e),this._updateStateAndButton())}_handleReserveClick(e){if(this.dom.reserveBtn.classList.contains("disabled")){e.preventDefault();return}e.preventDefault();const t=this.dom.reserveBtn.href;if(t&&t!=="#"){this.dom.iframeWrap.innerHTML=`<iframe src="${t}" style="width: 100%; height: 100vh; border: none;"></iframe>`,this.dom.iframeWrap.style.display="block";const i=this.dom.iframeWrap.getBoundingClientRect().top+window.scrollY,a=7*parseFloat(getComputedStyle(document.documentElement).fontSize);window.scrollTo({top:i-a,behavior:"smooth"})}}_updateStateAndButton(){let e=null,t=null;if(this.state.primarySelectionType==="activities"?(e=this.state.finalSelectedParkId,t=this.state.selectedInitialSlugs):this.state.primarySelectionType==="parks"&&(e=this.state.selectedInitialParkId,t=this.state.finalSelectedSlugs),e&&t&&t.size>0){const i=Array.from(t).map(s=>{const a=this.mapItems.find(o=>o.dataset.centreApexId===e&&o.dataset.activitySlug===s);return a?a.dataset.activityApexId:null}).filter(Boolean);if(i.length===t.size){const s=i.join(",");this.dom.reserveBtn.href=`https://www.apex-timing.com/gokarts/sessions_booking.php?center=${e}&categories=${s}&language=fr&iframe_id=axiframe_0`,this.dom.reserveBtn.classList.remove("disabled");const a=this.state.primarySelectionType==="activities"?this.dom.filteredParksPane.querySelector(`[data-centre-apex-id="${e}"]`):this.dom.initialParksPane.querySelector(`[data-centre-apex-id="${e}"]`),o=a?a.dataset.parkLabel:"",l=Array.from(t).map(r=>{const v=this.state.primarySelectionType==="activities"?this.dom.initialActivitiesPane.querySelector(`[data-activity-slug="${r}"]`):this.dom.filteredActivitiesPane.querySelector(`[data-activity-slug="${r}"]`);return v?v.dataset.activityLabel:r});this.dom.label.textContent=`C'est parti pour ${l.map(r=>`un ${r}`).join(" & ")} Ã  ${o} !`,this._animateSelectionAppearance()}else this.dom.reserveBtn.href="#",this.dom.reserveBtn.classList.add("disabled"),this.dom.label.textContent="La combinaison sÃ©lectionnÃ©e est invalide.",this._resetSelectionAppearance()}else this.dom.reserveBtn.href="#",this.dom.reserveBtn.classList.add("disabled"),this.dom.label.textContent="Veuillez terminer votre sÃ©lection.",this._resetSelectionAppearance()}_switchFilteredTab(e){const t="w--current",i=e==="parks"?"Parks":"Activities",s=e==="parks"?"Activities":"Parks";this.dom[`filtered${i}TabLink`].classList.add(t),this.dom[`filtered${s}TabLink`].classList.remove(t),this.dom[`filtered${i}Pane`].classList.add(t),this.dom[`filtered${s}Pane`].classList.remove(t),this.dom[`filtered${i}TabLink`].style.display="inline-block",this.dom[`filtered${i}Pane`].style.display="block",this.dom[`filtered${s}TabLink`].style.display="none",this.dom[`filtered${s}Pane`].style.display="none"}_animateSelectionAppearance(){if(!this.dom.selectionWrapper)return;window.gsap.timeline().to(this.dom.selectionWrapper,{opacity:1,pointerEvents:"auto",duration:.4,ease:"power2.inOut"}).from(this.dom.selectionWrapper,{scale:.9,ease:"elastic.out(1, 0.6)",duration:1.2},"-=0.2").to(this.dom.label,{opacity:1,duration:.5},"-=1")}_resetSelectionAppearance(){this.dom.selectionWrapper&&(window.gsap.to(this.dom.selectionWrapper,{opacity:.5,pointerEvents:"none",duration:.3}),window.gsap.to(this.dom.label,{opacity:0,duration:.2}))}_updateVideoSource(e){if(!this.dom.videoBackgroundDiv)return;const t=this.dom.videoBackgroundDiv.querySelector("source"),i=this.dom.videoBackgroundDiv.querySelector("video");if(!t||!i)return;const s=e&&e.dataset.video?e.dataset.video:this.config.defaultVideoUrl;t.src!==s&&(t.src=s,i.load(),i.play().catch(()=>{}))}_fullReset(e){e&&e.preventDefault(),this.state.primarySelectionType=null,this._resetInitialSelections("activities"),this._resetInitialSelections("parks"),this._resetFinalSelections(),this._resetInitialTabs(),this._resetFilteredTabs(),this.dom.filteredContainer.style.display="none",this.dom.iframeWrap.style.display="none",this._updateStateAndButton()}_resetInitialTabs(){this.dom.initialActivitiesTabLink&&(this.dom.initialActivitiesTabLink.style.display="flex"),this.dom.initialParksTabLink&&(this.dom.initialParksTabLink.style.display="flex")}_resetInitialSelections(e){e==="activities"?(this.dom.initialActivitiesPane.querySelectorAll("[data-activity-slug]").forEach(t=>t.classList.remove("isSelected")),this.state.selectedInitialSlugs.clear()):e==="parks"&&(this.dom.initialParksPane.querySelectorAll("[data-centre-apex-id]").forEach(t=>t.classList.remove("isSelected")),this.state.selectedInitialParkId=null,this._updateVideoSource(null))}_resetFinalSelections(){this.dom.filteredActivitiesPane.querySelectorAll("[data-activity-slug]").forEach(e=>e.classList.remove("isSelected")),this.state.finalSelectedSlugs.clear(),this.dom.filteredParksPane.querySelectorAll("[data-centre-apex-id]").forEach(e=>e.classList.remove("isSelected")),this.state.finalSelectedParkId=null}_resetFilteredTabs(){this.dom.filteredActivitiesTabLink.style.display="inline-block",this.dom.filteredParksTabLink.style.display="inline-block"}_injectStyles(){const e=document.createElement("style");e.id="sw-rsv-styles",e.textContent=`
        .isSelected .tags_content { background-color: black !important; color: white !important; }
        .isSelected .tags_content * { color: white !important; }`,document.head.appendChild(e)}_injectVideoPlayer(){this.dom.videoBackgroundDiv&&(this.dom.videoBackgroundDiv.innerHTML=`
        <div style="width: 100%; height: 100%;" class="w-background-video w-background-video-atom">
          <video playsinline loop muted autoplay data-wf-ignore="true" data-object-fit="cover">
            <source src="${this.config.defaultVideoUrl}" data-wf-ignore="true"/>
          </video>
        </div>`)}_applyUrlParameters(){const e=new URLSearchParams(window.location.search),t=e.get("activite"),i=e.get("parc");!t&&!i||setTimeout(()=>{if(i&&t){const s=this.dom.initialParksPane.querySelector(`[data-centre-apex-id="${i}"]`);if(s){this._handleInitialParkSelection(i,s);const a=this.dom.filteredActivitiesPane.querySelector(`[data-activity-slug="${t}"]`);a&&this._handleFinalActivitySelection(t,a)}}else if(i){const s=this.dom.initialParksPane.querySelector(`[data-centre-apex-id="${i}"]`);s&&s.click()}else if(t){const s=this.dom.initialActivitiesPane.querySelector(`[data-activity-slug="${t}"]`);s&&s.click()}},100)}}const x=Object.freeze(Object.defineProperty({__proto__:null,SmileWorldReservation:M},Symbol.toStringTag,{value:"Module"}))})(gsap);
